<!DOCTYPE html lang="ca">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.6.2/sql-wasm.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.9.0/d3.min.js"></script>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
              integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
              integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

<html>
    <head> 
        <meta charset="UTF-8">
        <title>Estudi IVE Catalunya</title>
        <link rel="icon" href="favicon.ico" type="image/x-icon">
    </head>
<body>
    <header class="container-fluid bg-light border-bottom mb-4">
        <div class="row align-items-center py-3">
            <div class="col-md-8">
            <h4 class="mb-1">Visualització de dades</h4>
            <small class="text-muted">Pràctica Part II </small>
            <small class="text-muted">Màster en ciències de dades (UOC)</small>
            </div>
            <div class="col-md-4 text-md-end fw-semibold">
            Francesc Ferré Tarrés
            </div>
        </div>
    </header>

    <div class="text-center mb-4">
        <h1>Estudi de les <b>interrupcions voluntàries d'embaràs</b> a Catalunya</h1>
    </div>

    <div class="container">
        <div>
            <div class="text-center">
                <h3 class="text-center">Interrupcions voluntàries d'embarassos per any</h3>
                <i class="fa fa-spinner fa-spin"></i>
                <svg id="totalsIVECatBarchartPerYear" width="900" height="450" style="display: none;"></svg>
            </div>
            Aquest gràfic mostra el nombre total d'interrupcions voluntàries d'embarassos per any. Es pot observar clarament un increment
            de l'ús d'aquest dret. El salt significatiu es va fer l'any 2019, i la tendència segueix a l'alça fins al 2022, any en què
            s'acaben les dades.
        </div>
        
        <div>
             <h3 class="text-center">Tipologia de mètodes d'interrupció d'embaràs agrupats per tipus</h3>
            <div class="text-center position-relative">
                <i class="fa fa-spinner fa-spin"></i>
                <svg id="treemapMethodTypeIVE" width="900" height="600" style="display: none;"></svg>
                <div id="treemapTooltipIVEMethodType" style="
                    position: absolute;
                    padding: 8px 10px;
                    background: rgba(0,0,0,0.8);
                    color: white;
                    border-radius: 4px;
                    font-size: 12px;
                    pointer-events: none;
                    opacity: 0;
                    z-index: 9999;
                "></div>
            </div>

        </div>
        
        <div class="mt-4">
            <div class="text-center position-relative">
                <h3>Situació laboral i nacionalitat</h3>
                <i class="fa fa-spinner fa-spin"></i>
                <svg id="sunburstNationalityStudy" width="600" height="600" style="display: none;"></svg>
            </div>
        </div>
        
        <div class="mt-4">
            <div class="text-center position-relative">
                <h3>Grup d'edat i metodologia emprada</h3>
                <i class="fa fa-spinner fa-spin"></i>
                <svg id="groupedBarChartPerYearsAndIVEType" width="600" height="600" style="display: none;"></svg>
            </div>
        </div>

        <div class="mt-4">
            <div class="text-center position-relative">
                <h3>Situació personal de la dona respecte la seva convivència, ingressos i finançament públic</h3>
                <i class="fa fa-spinner fa-spin"></i>
                <svg id="circlePackingSocialExclusionRisk" width="900" height="900" style="display: none;"></svg>
            </div>
        </div>


        <div class="mt-4">
            <div class="text-center position-relative">
                <h3>Metodologia emprada per any</h3>
                <i class="fa fa-spinner fa-spin"></i>
                <svg id="stackedAreaPerMethodAndYear" width="900" height="500" style="display: none;"></svg>
            </div>
        </div>


        <div class="mt-4 mb-1">
            <div class="text-center position-relative">
                <h3>Centres hospitalaris / tipus per any</h3>
                <i class="fa fa-spinner fa-spin"></i>
                <svg id="groupedBarChartHospitalPerYearsAndIVEType" width="900" height="900" style="display: none;"></svg>
            </div>
        </div>

        <div class="text-center">
            <a href="pages/interactive-queries-map.html" class="btn btn-link"><i class="fa fa-search"></i> Mapa interactiu</a>
        </div>
    </div>
    <footer class="bg-body-tertiary text-center fixed-bottom">
    <div class="container p-4 pb-0">
        <section class="mb-4">
        <a
            data-mdb-ripple-init
            class="btn text-white btn-floating m-1"
            href="https://x.com/CescFerre"
            role="button"
            >
            <img src="img/X.png" width="20" height="20">
        </a>

        <a
            data-mdb-ripple-init
            class="btn text-white btn-floating m-1"
            href="https://www.instagram.com/cescft98"
            role="button"
            >
            <img src="img/ig.png" width="20" height="20">
        </a>

        <a
            data-mdb-ripple-init
            class="btn text-white btn-floating m-1"
            href="https://www.linkedin.com/in/francesc-ferr%C3%A9-tarr%C3%A9s-4b1139188"
            role="button"
            >
            <img src="img/in.png" width="20" height="20">
        </a>
        <a
            data-mdb-ripple-init
            class="btn text-white btn-floating m-1"
            href="https://github.com/cescFT"
            role="button"
            >
            <img src="img/gh.png" width="20" height="20">
        </a>
        </section>
    </div>

    <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.05);">
        <p id="year"></p>
        <p>Visualitzacions creades a través de les dades obtingudes de 
            <a 
                class="text-body"
                href="https://analisi.transparenciacatalunya.cat/Salut/Interrupcions-volunt-ries-d-embar-s-IVE-a-Cataluny/5qx5-hkkr/about_data">
                Interrupcions voluntàries d'embaràs a Catalunya - Generalitat de Catalunya (Dades Obertes)
            </a>
        </p>
    </div>
    </footer>

<script src="js/databasesInteraction.js"></script>
<script src="js/totalsIVECatBarchartPerYear.js"></script>
<script src="js/treemapMethodTypeIVE.js"></script>
<script src="js/sunburstDiagramNationalityStudy.js"></script>
<script src="js/groupedBarChartPerGroupYearAndMethod.js"></script>
<script src="js/circlePackingSocialExclusionRisk.js"></script>
<script src="js/stackedAreaPerMethodAndYear.js"></script>
<script src="js/groupedBarChartPerYearAndHospitalCenterType.js"></script>
<script src="js/actualYear.js"></script>


<script>

    $(document).ready(function(){

        const colorMap = {
            "Mètodes quirúrgics": "#5B8FF9",
            "Mètodes farmacològics": "#5AD8A6",
            "No especificat": "#F6BD16"
        };

        totalsIVECatBarchartPerYearIVEPerYear();
        treemapMethodTypeIVE(colorMap);
        sunburstDiagramNationalityStudy();
        groupedBarChartPerGroupYearAndMethod(colorMap);
        circlePackingSocialExclusionRisk();
        stackedAreaPerMethodAndYear();
        groupedBarChartPerYearAndHospitalCenterType();
        calculateActualYear();
    });

</script>
</body>
</html>